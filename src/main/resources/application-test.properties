# Profile para testes unitários
spring.application.name=psoft-g1-test

# Usar H2 in-memory (sem Redis externo)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# H2 Console
spring.h2.console.enabled=true

# Desabilitar Redis para testes (usar embedded se necessário)
persistence.use-embedded-redis=true
persistence.strategy=sql-redis
persistence.caching-enabled=false

# OpenAPI
springdoc.api-docs.enabled=false

# JWT (usar as mesmas keys)
jwt.private.key=classpath:rsa.private.key
jwt.public.key=classpath:rsa.public.key

# File upload
file.upload-dir=target/test-uploads
file.photo_max_size=20000

# External APIs disabled for tests
external.api.google-books.enabled=false
external.api.open-library.enabled=false
external.api.isbndb.enabled=false